<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}" href="../static/css/common.css">
    <link rel="stylesheet" type="text/css" th:href="@{/layui/css/layui.css}" href="../static/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/cloneproject.css}" href="../static/css/cloneproject.css">
</head>
<body>
<!--复制文件 弹框-->
<div class="clone-project">
    <div class="clone-project-title boxsizing">
        <h4>复制文件 <span> 啥啥啥</span> 至  <span>那那那</span></h4>
    </div>

    <div class="clone-project-content">
        <div class="clone-project-left">
            <p class="title-font boxsizing">星标项目</p>
            <ul class="star-task">
                <li class="boxsizing">team新手引导</li>
            </ul>
            <p class="title-font boxsizing">个人项目</p>
            <ul class="personal-task">
                <li class="boxsizing selected">啥啥啥任务</li>
                <li class="boxsizing">啥啥啥任务</li>
                <li class="boxsizing">啥啥啥任务</li>
            </ul>
        </div>
        <div class="clone-project-right-box">
            <div class="clone-project-right">
                <div class="column">
                    <div class="create-wjj-wrap">
                        <i class="layui-icon layui-icon-add-circle create-wjj" style="font-size: 20px; color: #a6a6a6;"></i>
                    </div>
                    <p class="boxsizing title-font">文件夹</p>
                    <div class="new-wjj boxsizing"><input  type="text" placeholder="按 Enter 新建文件夹"></div>
                    <ul>
                        <li class="boxsizing">
                            <i class="layui-icon layui-icon-file-b" style="font-size: 16px; color: #1E9FFF;"></i>
                            <span>图片</span>
                        </li>
                    </ul>
                </div>


            </div>


        </div>
    </div>

    <div class="clone-project-foot boxsizing">
        <p>跨项目复制时，全部参与者信息不会被保留</p>
        <div class="clone-ok">确定</div>
        <div class="clone-no">取消</div>
    </div>


</div>
</body>
<script th:src="@{/js/jquery-2.2.4.min.js}" src="../static/js/jquery-2.2.4.min.js"></script>
<script th:src="@{/layui/layui.js}" src="../static/layui/layui.js"></script>
<script>
    layui.use('form', function(){
        var form = layui.form;
        //监听提交
        form.on('submit(formDemo)', function(data){
            layer.msg(JSON.stringify(data.field));
            return false;
        });
    });
//点击 添加文件夹
    $("html").on("click",".create-wjj",function (e) {
        $(this).parent().siblings(".new-wjj").show();
        e.stopPropagation()
    });
    //点击空白区域 新建 文件夹 输入框 消失
    $("html").on("click",".new-wjj input",function (e) {
       e.stopPropagation()
    });
    $("html").on("keydown",".new-wjj input",function (e) {
        if(event.keyCode ==13){
            $(this).parent().siblings("ul").append('<li class="boxsizing">\n' +
                '                            <i class="layui-icon layui-icon-file-b" style="font-size: 16px; color: #1E9FFF;"></i>\n' +
                '                            <span>'+$(this).val()+'</span>\n' +
                '                        </li>');
            $(this).parent().hide()
        }

    });
    $(document).click(function(event){
        var _con = $('.new-wjj input');  // 设置目标区域
        if(!_con.is(event.target) && _con.has(event.target).length === 0){ // Mark 1
            $('.new-wjj').hide(100);     //淡出消失
        }
    });

    // 点击 文件夹 出现 文件夹的内容
    $("html").on("click",".column ul li",function () {
        $(this).parents(".column").after(' <div class="column">\n' +
            '                    <div class="create-wjj-wrap">\n' +
            '                        <i class="layui-icon layui-icon-add-circle create-wjj" style="font-size: 20px; color: #a6a6a6;"></i>\n' +
            '                    </div>\n' +
            '                    <p class="boxsizing title-font">文件夹</p>\n' +
            '                    <div class="new-wjj boxsizing"><input  type="text" placeholder="按 Enter 新建文件夹"></div>\n' +
            '                    <ul>\n' +
            '                        \n' +
            '                    </ul>\n' +
            '                </div>')
    });
// 关闭弹出层
    $(".clone-project-foot div").click(function () {
        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
        parent.layer.close(index); //再执行关闭
    });

</script>
</html>