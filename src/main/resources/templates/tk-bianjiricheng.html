<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}" href="../static/css/common.css">
    <link rel="stylesheet" type="text/css" th:href="@{/layui/css/layui.css}" href="../static/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" th:href="@{/css/myscheduling.css}" href="../static/css/myscheduling.css">
</head>
<body>
<!--编辑日程 弹框-->
<div class="edit-scheduling boxsizing layui-form">
    <div class="edit-scheduling-title">编辑日程
        <img src="../static/image/close.png" th:src="@{/image/close.png}" />
    </div>
    <textarea name=""  placeholder="设计修改任务界面" class="layui-textarea"></textarea>
    <div class="begin-time abox">
        <img src="../static/image/begintime.png" th:src="@{/image/begintime.png}" />
        <input type="text" class="layui-input" id="beginTime" placeholder="设置开始时间">
    </div>
    <div class="over-time abox">
        <img src="../static/image/begintime.png" th:src="@{/image/begintime.png}" />
        <input type="text" class="layui-input" id="overTime" placeholder="设置截止时间">
    </div>
    <div class="no-repeat abox">
        <img src="../static/image/norepeat.png" th:src="@{/image/norepeat.png}" />
        <select name="repeat" lay-verify="">
            <option value="repeat-no">不重复</option>
            <option value="repeat-day">每天重复</option>
            <option value="repeat-week">每周重复</option>
            <option value="repeat-mouth">每月重复</option>
            <option value="repeat-year">每年重复</option>
            <option value="repeat-workday">工作日重复</option>
        </select>
    </div>
    <div class="no-remand abox">
        <img src="../static/image/noremand.png" th:src="@{/image/noremand.png}" />
        <select name="remand" lay-verify="">
            <option value="remand-no">不提醒</option>
            <option value="remand-over">任务截止时提醒</option>
            <option value="remand-begin">任务开始时提醒</option>
        </select>
    </div>
    <div class="heng-line"></div>
    <p class="cyz">参与者</p>
    <div class="work-people boxsizing clearfix">
        <div class="one-work-people">
            <img src="../static/image/add.png" th:src="@{/image/add.png}" />
            <i class="layui-icon layui-icon-close-fill remove-work-people " style="font-size: 15px; color: #3da8f5;"></i>
        </div>
        <div class="add-work-people">
            <img src="../static/image/adds.png" th:src="@{/image/adds.png}" />
        </div>
    </div>
    <div class="heng-line"></div>
    <div class="edit-scheduling-ok">保存</div>
</div>
</body>
<script th:src="@{/js/jquery-2.2.4.min.js}" src="../static/js/jquery-2.2.4.min.js"></script>
<script th:src="@{/layui/layui.js}" src="../static/layui/layui.js"></script>
<script>
    layui.use('form', function(){
        var form = layui.form;

        //监听提交
        form.on('submit(formDemo)', function(data){
            layer.msg(JSON.stringify(data.field));
            return false;
        });

        form.on('switch(switch-filter)', function(data){
            console.log(data.elem.checked); //开关是否开启，true或者false
            if (data.elem.checked) {
                $(".who-can-see").text("仅自己可见")
            }else {
                $(".who-can-see").text("所有成员可见")
            }
        });



    });
    layui.use('element', function(){
        var element = layui.element;

    });
    layui.use('laydate', function(){
        var laydate = layui.laydate;

        //执行一个laydate实例
        laydate.render({
            elem: '#beginTime', //指定元素
            type:'datetime',
            format:'M月d日 H:00'
        });
        laydate.render({
            elem: '#overTime', //指定元素
            type:'datetime',
            format:'M月d日 HH:00'
        });
    });
    
    $(".edit-scheduling-title img").click(function () {
        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
        parent.layer.close(index); //再执行关闭
    })
</script>
</html>