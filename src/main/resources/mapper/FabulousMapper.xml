<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.art1001.supply.mapper.task.FabulousMapper">

    <resultMap id="BaseResultMap" type="com.art1001.supply.entity.task.Fabulous">
        <result column="fabulous_id" property="fabulousId" jdbcType="BIGINT" />
        <result column="member_id" property="memberId" jdbcType="VARCHAR" />
        <result column="task_id" property="taskId" jdbcType="VARCHAR" />
    </resultMap>

    <sql id="Base_Column_List">
				fabulous_id,
				member_id,
				task_id
	</sql>

    <!-- 用户赞后添加至该关系表 -->
    <insert id="addFabulous">
        insert into prm_fabulous (fabulous_id,member_id,task_id)
        values(#{fabulousId},#{memberId},#{taskId});
    </insert>

    <!-- 判断用户有没有给当前任务点赞 -->
    <select id="judgeFabulous" resultType="java.lang.Integer">
        select count(0) from prm_fabulous where task_id = #{taskId} and member_id = #{memberId}
    </select>


</mapper>